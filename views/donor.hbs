<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">
    <title>Donor Home</title>
</head>
<body style = "background-color: rgb(255, 255, 255); text-align: left">
    <nav>
         <div class = "logo" id = "logo">
            <a href= "/" class = "logo">
            <img src = "/DisasterReliefUiowaOldGold-06.png" alt = "DAMS Logo"/>
            </a>
        </div>
        <ul>
            <li><a href= "/pledge"> Make a Pledge </a></li>
            <li><a href = "/donorRQ">View Request</a></li>
            <li><a href="/authenticate/logout"> Logout </a></li>
        </ul>
    </nav>

    <div class="container mt-4">
        <div class = "row">
            <div class = "col-4">
                 <div class = "card">
                      <div class = "card-header"></div>
            <div class = "avatar-ctn">
                <img src = "/DisasterReliefUiowaOldGold-07.png" class = "avatar" alt = "user pfp">
            </div>
        <div class = "card-body">
            <h5 class = "card-title"> Hey {{user.UserName}}! </h5>
                <p class = "card-text">Your role is a/an: {{user.role}}</p>
                <p class = "card-text">Zipcode: {{user.zipcode}}</p>
                <p class = "card-text">Email: {{user.email}}</p>
                </div>
                <div class = "card-footer text muted"></div>
              </div>
            </div>

            <div class ="col-8">
                <div class = "card text-left">
                  <div class = "card-header">
                      {{user.UserName}}'s Profile Page
                    </div>  
                    <div class = "card-body">
                        <h5 class = "card-title"> Your Role As A {{user.role}} </h5>
                        <p class = "card-text"> Our donor is for good sameritans who are keen to help. You may not be sure what is required to help assist those in need and where the need is located. With this role you will be able to search for requested items and pledge a donation in response. Any help you can offer will go along way in anothers recovery. </p>
                    </div>
                    <div class = "card-footer text-center">
                      <h6>Your ID is: #{{user.id}}</h6>
                    </div>
                </div>
        <br>    
        <div class = "card text-center">
                <div class = "card-header">
                    {{user.UserName}}'s' Pledge Queue:
                </div>
         </div> 
        {{#each pledge}}
                <div class ="col-12">
                    <div class = "card text-left">
                        <div class = "card-header">
                            {{this.UserName}}'s Pledge:
                        </div>
                        <div class = "card-body">
                        <h4 class = "card-title"> Pledge Title: {{this.pledge}}</h4>
                        <h5 class= "card-title">Pledge Type: {{this.type}} </h5>
                        <hr class="my-4">
                        <h6 class = "card-title">Item: {{this.item}}</h6>
                        <h6 class = "card-title">Item Quantity: {{this.quantity}}</h6>
                        <h6 class = "card-title">State: {{this.state}} City: {{this.city}} Zipcode: {{this.pledgezip}} </h6>
                        </div>
                        <h6 class = "card-footer text-center">Pledge ID: {{this.id}}</h6>

                        <form action = "/authenticate/delPledge" method = "POST">
                        <input type = "hidden" id = "id" name = "id" value = {{this.id}}>
                        <button type = "delete" class = "btn btn-primary"> Delete Pledge</button> 
                        </form>
                        </div> 
        <br>              
                {{/each}}
                <hr class="my-4">
                <div class = "card text-center">
                <div class = "card-header">
                    {{user.UserName}}'s' Accepted Requests:
                </div>
                </div>
            {{#each request}}
                <div class = "col-12">
                    <div class ="card text-left">
                        <div class = "card-header">
                            {{this.UserName}}'s Request
                        </div>
                        <h4 class = "card-title">Pledge Title: {{this.title}}</h4>
                        <h4 class = "card-title">Request Type: {{this.type}}</h4>
                        <hr class="my-4">
                       <h6 class = "card-title">Item: {{this.item}}</h6>
                        <h6 class = "card-title">Item Quantity: {{this.quantity}}</h6>
                        <h6 class = "card-title">State: {{this.state}} City: {{this.city}} Zipcode: {{this.zipcode}} </h6>
                        <h6 class = "card-footer text-center"></h6>  
                    </div>
                </div>
                </div>
                <br>
            {{/each}}
            </div>
        </div>          
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
</body>
</html>